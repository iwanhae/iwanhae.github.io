<!doctype html><html lang=ko-kr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="구 블로그에서 가져옴"><title>뒤에서 부터 보는 C언어: 2. 변수</title><link rel=canonical href=https://iwanhae.github.io/p/clang_from_backward_2/><link rel=stylesheet href=/scss/style.min.css><meta name=google-site-verification content="hueaQ_HMu3Eq1ONg2Nh47uVN-tQXPzXlh1DXig6eT7c"><meta property="og:title" content="뒤에서 부터 보는 C언어: 2. 변수"><meta property="og:description" content="구 블로그에서 가져옴"><meta property="og:url" content="https://iwanhae.github.io/p/clang_from_backward_2/"><meta property="og:site_name" content="iWan"><meta property="og:type" content="article"><meta property="article:section" content="Post"><meta property="article:published_time" content="2016-12-27T00:00:00+00:00"><meta property="article:modified_time" content="2016-12-27T00:00:00+00:00"><meta property="og:image" content="https://iwanhae.github.io/p/clang_from_backward_2/clang.png"><meta name=twitter:title content="뒤에서 부터 보는 C언어: 2. 변수"><meta name=twitter:description content="구 블로그에서 가져옴"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://iwanhae.github.io/p/clang_from_backward_2/clang.png"></head><body><div class="container flex on-phone--column align-items--flex-start extended article-page with-toolbar"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header class=site-info><figure class=site-avatar><img src=/img/avatar_hub2a4b6b69d3b0618960cb9af6c0975e0_643282_300x300_resize_box_2.png width=300 height=300 class=site-logo loading=lazy alt=Avatar>
<span class=emoji>😎️</span></figure><h1 class=site-name><a href=https://iwanhae.github.io>iWan</a></h1><h2 class=site-description>#include "Hi.h"</h2></header><ol class=menu id=main-menu><li><a href=https://iwanhae.github.io/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg><span>Home</span></a></li><li><a href=https://iwanhae.github.io/welcome-to-iwan><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg><span>About</span></a></li><li><a href=https://iwanhae.github.io/archives><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg><span>Archives</span></a></li></ol></aside><main class="main full-width"><div id=article-toolbar><a href=https://iwanhae.github.io class=back-home><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="15 6 9 12 15 18"/></svg><span>Back</span></a></div><article class="has-image main-article"><header class=article-header><div class=article-image><img srcset="/p/clang_from_backward_2/clang_hue4e01b3163d4c8f81786c4a65f826f64_43926_1024x0_resize_box_2.png 1024w, /p/clang_from_backward_2/clang_hue4e01b3163d4c8f81786c4a65f826f64_43926_2000x0_resize_box_2.png 2000w" src=/p/clang_from_backward_2/clang_hue4e01b3163d4c8f81786c4a65f826f64_43926_2000x0_resize_box_2.png width=800 height=899 loading=lazy alt="Featured image of post 뒤에서 부터 보는 C언어: 2. 변수"></div><div class=article-details><header class=article-category><a href=https://iwanhae.github.io/categories/programming-language/ class=color-tag data-image=/p/clang_from_backward_2/clang_hue4e01b3163d4c8f81786c4a65f826f64_43926_20x20_fill_box_smart1_2.png data-key=clang_from_backward_2 data-hash="md5-AtXrM67H2n5l7J+abXKdMQ==">Programming Language</a></header><h2 class=article-title><a href=https://iwanhae.github.io/p/clang_from_backward_2/>뒤에서 부터 보는 C언어: 2. 변수</a></h2><h3 class=article-subtitle>구 블로그에서 가져옴</h3><footer class=article-time><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg><time class=article-time--published>2016년 12월 27일</time></footer></div></header><section class=article-content><h2 id=변수란-무엇인가>변수란 무엇인가?</h2><p>변수, 영어로는 Variable, Vary(달라지다) + able(가능하다)</p><p>뭐 대충 한번쯤 써본적은 있을테니 알꺼라 믿지만 <del>(컴퓨터 아니라도 수학에서 허구한날 쓰니깐)</del> 그래도 고전적이게 한번 써보자면 이것은 그릇이다.</p><p>그릇 안에는 0과 1의 조합이 들어있고 그릇에는 그릇 고유의 이름과 그릇의 특성이 있는데 이름은 사용자가 맘대로 정하는거고 그릇의 특성에따라 컴퓨터가 해석하는 방법이 달라진다.</p><p>만약 char 특성이면 문자~~(사실 1바이트 숫자지만)~~, INT 특성이면 정수, Float 특성이면 실수, Bool 특성이면 True,False ~~헌데 C언어는 Bool없다&mldr;.. _Bool은 GCC에선 있다.)~~</p><p>뭐 이런 느낌이다.</p><p>어떤식으로 저장되는지는 IEEE문서 어딘가쯤에 적혀있을테니 궁금하면 찾아보도록 하자.</p><p>여기서 재미난점은 말했다싶이 <strong>그릇</strong> 속에는 <strong>0</strong>과 <strong>1</strong>이 저장되어있다. 나중에 언급은 하겠지만 (아마도?) 여기서 포인터를 쓰면 특성만 바꾼체로 어떤 그릇속에 있는 정보를 읽어낼 수 있는데 이거 잘 활용하면 Byte(Char)로 저장된 내용을 다른방식으로 읽어내 의미를 보여준다던가 <del>(IP주소 표기할때 가끔씀)</del> Double이나 INT 혹은 다른 저장방식으로 의미를 갖는것을 Byte(Char) 방식으로 읽어내 일반화된 방법으로 압축을 행할수도 있다.</p><h2 id=c언어에서-사용가능한-변수의-종류는>C언어에서 사용가능한 변수의 종류는?</h2><p>꽤 많다.</p><p>표로 정리해뒀으니 한번 보고 지나가면 된다.</p><p>꼭 알아둘것은</p><p>Char, Int, Float, Struct, 포인터, 함수포인터</p><p>정도만 기억해두면 된다. (나머지는 필요할때 찾아서 보면 됨)</p><table><thead><tr><th>형식</th><th>설명</th><th>포맷</th></tr></thead><tbody><tr><td>char</td><td>보통 1바이트짜리 크기를 가지며 <del>(컴파일러에 따라 8비트가 아니라 7비트인 경우도 있다.)</del> 포인터가 가르키는게 가능한 최소 단위이다. 원래는 메모리공간 하나 다루는데 썼는데 아스키코드도 마침 딱 1바이트크기라 요즘은 문자표현할때 더 자주 쓰인다.</td><td>%c</td></tr><tr><td>signed char</td><td>부호가 있는 char형. 일반적인 컴파일러에서는 char쓰면 signed char를 의미한다.</td><td></td></tr><tr><td>unsigned char</td><td>부호가 없는 char형. 대표적으로 ARM컴파일러에서는 char쓰면 unsigned char를 의미한다.</td><td></td></tr><tr><td>short / short int / signed short / signed short int</td><td>최소 2바이트의 크기를 가지는 +-가 존재하는 정수형이다. 컴파일러에따라 더 클수도 있으나 아직까지 그런 컴파일러를 본적은 없다.</td><td>%hi / %hd</td></tr><tr><td>unsigned short / unsigned short int</td><td>부호가 없을뿐 똑같다</td><td>%hu</td></tr><tr><td>int</td><td>최소 4바이트의 크기를 가지는 정수</td><td>%i / %d</td></tr><tr><td>unsigned int</td><td>부호가 없는 int형</td><td>%u</td></tr><tr><td>long int</td><td>최소 8바이트 정수</td><td>%li / %ld</td></tr><tr><td>long long int</td><td>최소 16바이트 정수</td><td>%lli / %lld</td></tr><tr><td>float / double long double</td><td>실수를 표현한다. 하지만 그 크기가 정의되있지는 않다. 일반적으로 float가 4바이트고 double이 8바이트이고 long double은 컴파일러마다 따로논다.</td><td>%f / %g / %e</td></tr><tr><td>struct</td><td>위에 나온 자료형들을 조합해서 사용자가 새로 만들수 있는 자료형이다. 한글로 번역하면 구조체</td><td></td></tr><tr><td>array</td><td>배열</td><td></td></tr><tr><td>포인터</td><td>메모리 상에서 위에 나온 모든 자료형의 시작부분을 가르키는 데이터를 가진다. 포인터 형식에 따라 그 시작부분부터 몇바이트씩 읽어서 어떤식으로 해석할지 결정한다.</td><td></td></tr><tr><td>함수 포인터</td><td>메모리 상에서 어떠한 함수가 저장되어있는 부분의 시작점을 가르킨다. 동적 라이브러리를 읽어오거나 사용자 설정에따라 다른함수를 사용해야할때 자주 쓰인다.</td><td></td></tr></tbody></table><p>참고로 포인터의 경우 x86환경에서 (즉, 윈도우가 돌아가면)</p><p>32bit 컴퓨터에서는 4바이트(=32비트) 64비트 컴퓨터에서는 6바이트(=48비트)의 크기를 가진다.</p><p>덤으로 왜 64비트 컴퓨터에서 포인터의 크기가 64비트(=8바이트)가 아니냐면</p><p>64비트크기의 포인터로 총</p><p>$${ 2 }^{ 64 }\quad bytes\quad \approx \quad 16\quad Eb$$</p><p>크기의 메모리 공간을 가르킬수 있는데 아마 여기까지 메모리가 커질일은 없다고 생각해서(;;)</p><p>$${ 2 }^{ 48 }\quad bytes\quad \approx \quad 16\quad Tb$$</p><p>로 합의 봤다나 뭐라나&mldr;. (쓸일도 없는데 포인터 쓸때마다 2byte씩 낭비가 일어난다는 의미니깐)</p><h2 id=변수는-어떻게-저장되나>변수는 어떻게 저장되나?</h2><p>일단 C언어는 처음 시작될때 운영체제로부터 <del>(운영체제 그 자체인경우는 할당 방법이 미리 지정되어 있으나 여기선 상관없는 얘기)</del> 메모리 공간을 할당받아 <code>Code</code> <code>Data</code> <code>Stack</code> <code>Heap</code> 이렇게 네가지 영역으로 나눈다.</p><p><code>Code</code>의 경우 이름에서 예상할수 있다싶이 컴파일되어 바이너리[^n]형태로 하드에 저장되있는 내용을 그대로 가져와 넣는 영역이다. 일반적으로 코드 전부를 이 영역에 올리지만, 동적으로 Library를 불러올경우 (DLL파일이나 SO파일 같은것들) 처음에는 없었지만 나중에 불러오는 형식을 취한다.</p><p><code>Data</code>의 경우 프로그램 내내 존재해야하는 변수가 저장된다. 대표적으로 Static으로 지정해놓은 변수, 전역변수 지정해 놓은 변수들이 해당된다.</p><p><code>Stack</code>의 경우 함수 내에서 호출되는 지역변수들이 저장되는 곳이다. 자료구조배울때 많이나오는 <code>스택</code>과 같은 자료구조를 가진다. (지역에서 탈출하면 변수도 사라져야 하는데 이럴때 맨 윗부분만 빼면 되니깐) 흔히 C언어의 문제점으로 언급하는 &ldquo;Stack Overflow"에러도 함수호출(지역출입)이 너무 많아져서 이 공간이 넘칠때 일어나는 애러를 말한다.</p><p><code>Heap</code>이 공간은 동적할당(malloc)에 쓰이는 공간이다. 딱히 그 이상 특별한건 없다. 영어로 &ldquo;아무렇게나 쌓인 더미"를 의미하며 실제 그런식으로 쓰인다. 그냥 잘 지내다가 뜬금없이 아무렇게나 할당받아서 쓰고, 다 쓰고나면 버린다.</p><p>위 네가지를 코드로 보면 요런 느낌이다.</p><p>코드 전체는 실행되면서 <code>Code</code>에 할당</p><div class=highlight><pre class=chroma><code class=language-c++ data-lang=c++><span class=cp>#include</span> <span class=cpf>&lt;stdio.h&gt;</span><span class=cp>
</span><span class=cp></span>
<span class=kt>void</span> <span class=nf>funcA</span><span class=p>(</span><span class=kt>int</span><span class=p>);</span>
<span class=kt>void</span> <span class=nf>funcB</span><span class=p>(</span><span class=kt>int</span><span class=p>);</span>

<span class=kt>int</span> <span class=n>A</span> <span class=o>=</span> <span class=mi>10</span><span class=p>;</span>	<span class=c1>// Data 영역에 할당
</span><span class=c1></span><span class=kt>int</span> <span class=n>B</span> <span class=o>=</span> <span class=mi>20</span><span class=p>;</span>	<span class=c1>// Data 에 할당
</span><span class=c1></span>
<span class=kt>int</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>

    <span class=kt>int</span> <span class=o>*</span><span class=n>Dynamic</span> <span class=o>=</span> <span class=p>(</span><span class=kt>int</span><span class=o>*</span><span class=p>)</span> <span class=n>malloc</span> <span class=p>(</span><span class=k>sizeof</span><span class=p>(</span><span class=kt>int</span><span class=p>));</span>
    <span class=c1>//Heap에서 `sizeof(int)`만큼 할당받고 포인터로 가르키기
</span><span class=c1></span>
    <span class=kt>int</span> <span class=n>C</span> <span class=o>=</span> <span class=mi>100</span><span class=p>;</span>	
    <span class=c1>//실행되면서 지역변수 C를 Stack에 PUSH
</span><span class=c1></span>
	<span class=n>funcA</span><span class=p>();</span>    
	<span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
<span class=p>}</span> 
<span class=c1>//끝나면서 POP해서 C를 날려버림
</span><span class=c1></span>
<span class=kt>void</span> <span class=nf>funcA</span><span class=p>()</span> <span class=p>{</span>
	<span class=kt>int</span> <span class=n>D</span> <span class=o>=</span> <span class=mi>30</span><span class=p>;</span>	
    <span class=c1>//지역변수 D를 Stack에 PUSH
</span><span class=c1></span>
     <span class=n>funcB</span><span class=p>(</span><span class=n>D</span><span class=p>);</span>
<span class=p>}</span>
<span class=c1>//끝나면서 POP해서 D를 날려버림
</span><span class=c1></span>
<span class=kt>void</span> <span class=nf>funcB</span><span class=p>(</span><span class=kt>int</span> <span class=n>D</span><span class=p>)</span> <span class=p>{</span>
	<span class=kt>int</span> <span class=n>E</span> <span class=o>=</span> <span class=mi>40</span><span class=p>;</span>
    <span class=c1>//지역변수 E를 Stack에 PUSH
</span><span class=c1></span><span class=p>}</span>
<span class=c1>//끝나면서 POP해서 E를 날려버림
</span></code></pre></div><h2 id=배열은-어떻게-저장되나>배열은 어떻게 저장되나?</h2><p>배열은 순서대로 저장된다&mldr;&mldr;<del>(어쩌라고&mldr;)</del></p><div class=highlight><pre class=chroma><code class=language-c++ data-lang=c++><span class=kt>int</span> <span class=n>Very</span><span class=p>[</span><span class=mi>100</span><span class=p>];</span>
</code></pre></div><p>이라는 배열이 있고</p><p><code>Very[0]</code>가 메모리상에서 1100번지에 있을때
<code>Very[1]</code>은 메모리상에서 1104번지에 있다.</p><p>(int형은 4바이트 크기이므로 1100, 1101, 1102, 1103번지는 <code>Very[0]</code>, 그 후 1104부터 1107까지는 <code>Very[1]</code>이 차지한다.)</p><p>여기서 주의해야할 점은 <strong>C언어는 <code>Very</code>가 몇칸짜리 배열인지 신경 안쓴다</strong>라는 것이다.</p><p>무슨말인고 하니 <code>Very[100]=14</code>를 해도 오류가 안난다.</p><p>이게 뭐가 문제인지 모르겠는가?</p><p>다음코드를 보자.</p><div class=highlight><pre class=chroma><code class=language-c++ data-lang=c++><span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
<span class=p>{</span>
	<span class=kt>int</span> <span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>[</span><span class=mi>100</span><span class=p>];</span>
	<span class=n>a</span> <span class=o>=</span> <span class=mi>10</span><span class=p>;</span>
	<span class=n>printf</span><span class=p>(</span><span class=s>&#34;%d</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>,</span> <span class=n>b</span><span class=p>[</span><span class=mi>102</span><span class=p>]);</span>
    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div><p>뭐가 출력되어야 한다고 생각하는가?</p><p>초기화되지 않은값?</p><p>정답은 10이다. (음?)</p><p><img src=./--.PNG alt></p><p>정확히는 비쥬얼스튜디오 2015, x86, Debug환경에서 돌렸을때 10이 나온다.
<del>(컴파일러 환경마다 메모리상에 변수저장방법이 다르다.)</del></p><p>여기서 만약 <code>b[102]=9;</code>하면 우습게도 <code>a</code>의 값도 <code>9</code>가 되버린다.</p><p>지금이야 변수하나 장난치는것 뿐이지만 뭔가 루프문 돌리다가 제때 루프문 종료를 못해서 <code>b[103234]</code>같은데까지 변수를 대입하고 그부분이 뭔가 다른프로그램이 이용하는 영역이라던가 운영체제의 중요한 부분이라 생각해보면 정말 끔찍한 사태가 일어나는 것이다.</p><p>물론 요즘은 운영체제상에서 프로그램은 운영체제가 준 가상의 메모리주소공간에서 노는거기 때문에 실제 그런 불상사는 잘 안일어나지만, 윈도 XP시절 이런 버그가 참 많았다나 뭐라나&mldr;&mldr;<del>(다시 말하지만 C언어의 모토는 <strong>프로그래머를 믿으라!!</strong>)</del></p><p>어찌됬든 여기서 한번 생각해볼만한것이 여기에 <code>포인터</code>의 개념이 활용되었다는 것이다.</p><h2 id=포인터>포인터?</h2><p>뭔가 C언어 최종보스같은 느낌이다.</p><p>물론 실제로는 이보다 X같은놈들 훨씬 많다. <del>(안다룰꺼지만)</del></p><p>사실 필자는 C#처음 만지작 거렸을때 **어머나 퐌톼스튁! 포인터따위 조까!!**와 같은 느낌으로 포인터 안배우고 지낼려고 했다.</p><p>하지만 C#좀 하다가 객체속에 저장되있는 임의의 객체를 불러와 정보를 열람한뒤 그것을 상속체가 같은 다른 객체로 옮겼다가 이진화해서 전송했다 받아낸걸 객체로 읽어내 객체를 업데이트한뒤 한번 사용하고 소멸시키는 뭐 이상한걸 하게됬는데</p><p><strong>깊은, 얉은 복사</strong>가 포인터의 개념을 제대로 활용하는놈이라(;;) 반 강제적으로 포인터의 개념을 깨닫게 됬다.</p><p>포인터라는 것은 생각보다 간단하다.</p><p><code>int* ptr</code>이라는 선언이 있다면</p><p>4바이트 저장공간(64비트면 6바이트)에 메모리주소를 넣어두는게 전부다.</p><p>여기서 <code>int</code>는 자기가 가리키는 영역을 <code>int</code>형식으로 읽겠다는 것이다.</p><p>위쪽에 **배열은 어떻게 저장되나?**에서 썼던 1100번지에 존재하는 <code>Very[0]</code>를 재탕해보면</p><p><code>ptr = 1100;</code>이라 하고 <code>*ptr = 11;</code>이라 하면</p><p>1100, 1101, 1102, 1103 번지를 활용해 11이라는 값을 저장하게 되는 것이다.</p><p>물론 실제로 <code>ptr = 1100;</code>이라고 쓰는경우는 하드웨어 제어하는경우를 제외하면 거의 없고 <del>(라즈베리파이 GPIO 맘대로 조작할때쯤 DataSheet보면서 이런거 맘껏 하게된다)</del></p><p><code>ptr = &Very</code> 요런 느낌으로 주소를 지정해 준다.</p><div class=highlight><pre class=chroma><code class=language-c++ data-lang=c++><span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
<span class=p>{</span>
	<span class=kt>int</span> <span class=n>Very</span><span class=p>[</span><span class=mi>100</span><span class=p>];</span>
	<span class=kt>int</span><span class=o>*</span> <span class=n>ptr</span><span class=p>;</span>

	<span class=n>ptr</span> <span class=o>=</span> <span class=o>&amp;</span><span class=n>Very</span><span class=p>[</span><span class=mi>0</span><span class=p>];</span>
	<span class=o>*</span><span class=n>ptr</span> <span class=o>=</span> <span class=mi>100</span><span class=p>;</span>
	<span class=n>printf</span><span class=p>(</span><span class=s>&#34;%d&#34;</span><span class=p>,</span> <span class=n>Very</span><span class=p>[</span><span class=mi>0</span><span class=p>]);</span>	<span class=c1>//100
</span><span class=c1></span>
	<span class=o>*</span><span class=p>(</span><span class=o>++</span><span class=n>ptr</span><span class=p>)</span> <span class=o>=</span> <span class=mi>99</span><span class=p>;</span>
	<span class=n>printf</span><span class=p>(</span><span class=s>&#34;%d&#34;</span><span class=p>,</span> <span class=n>Very</span><span class=p>[</span><span class=mi>1</span><span class=p>]);</span>	<span class=c1>//99
</span><span class=c1></span>
	<span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div><h2 id=포인터와-배열>포인터와 배열</h2><p>중요한건 아닐지도 모르지만 한번 언급해본다.</p><p>배열과 포인터는 반정도 그 개념을 공유한다.</p><p>예를들면 위에 보여줬던</p><div class=highlight><pre class=chroma><code class=language-c++ data-lang=c++><span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
<span class=p>{</span>
	<span class=kt>int</span> <span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>[</span><span class=mi>100</span><span class=p>];</span>
	<span class=n>a</span> <span class=o>=</span> <span class=mi>10</span><span class=p>;</span>
	<span class=n>printf</span><span class=p>(</span><span class=s>&#34;%d</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>,</span> <span class=n>b</span><span class=p>[</span><span class=mi>102</span><span class=p>]);</span>
    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div><p>이부분 같은거 말이다.</p><p><code>int b[100];</code>부분에서 <code>[]</code>부분은 확실히 배열로써 사용된 부분이다.
이는 컴퓨터에게 int형 100칸짜리 메모리 공간(400바이트)을 확보하라는 명령이다.</p><p>하지만 <code>b[102]</code>는 포인터다. 정확히는 <code>b</code>가 <code>int* b</code>이다.</p><p>즉 위의 <code>int b[100];</code>은
메모리공간을 확보하고, b라는 포인터를 만들어낸뒤, b의 값에 확보한 공간의 첫번째 칸의 위치정보를 집어 넣어라.</p><p>라는 세가지 명령을 수행하는 선언문인 것이다.</p><p>우리가 <code>b[102]</code>라고 쓰는건 C언어 내부에서 <code>*(b + 102);</code>와 동치이니 참고하도록 하자.</p><h2 id=상수도-저장되어-있다>상수도 저장되어 있다.</h2><p>아마 C언어 예제 써와보면서 이거 한번쯤은 적어봤을꺼 같다.</p><p><code>char* str = "Do not go gentle into that good night";</code></p><p>근데 한가지가 궁금해진다.</p><p><code>"Do not go gentle into that good night"</code></p><p>이거 어디서 나온걸까?</p><p><code>const</code>라고 써본적 있는가?</p><p>지금 생각하는 <strong>처음에 한번 지정해주면 두번다시 못바꾸는놈</strong> 맞다.</p><p>컴파일러마다 저장되는곳이 달라서 **변수는 어떻게 저장되나?**부분에서 언급을 안했는데</p><p>일반적으로 코드 내에서 쓰이는 <strong>모든 상수</strong>는 메모리상 어딘가에 저장된다.</p><p>숫자, 문자열, 경로 가리지 않고 코드 실행될때 불러와서 메모리상 어딘가에 저장되고 <strong>쓰기 금지</strong>처리된다. <del>(다른프로그램에서 참견하면 수정 가능하긴 하지만 어쩃든 자기는 이부분 수정 못함)</del></p><p>여기서 <code>const</code>라는 놈으로 뭔가 선언해주면 이 공간을 직접 참조하고,</p><p>일반적인 변수를 선언하고 초기값을 지정해주면 이 공간에서 복사해서 대입하는 것이다.</p><p>그냥 그렇다&mldr;..</p><p>심심해서 언급해 봤다.</p><p>뭔가 엄청나게 데이터가 큰 상수를 소스코드내에서 불러올생각은 되도록이면 하지 말자.</p><p>초기값이 메모리상에 프로그램 끝날때까지 계속 존재하니깐 말이다.</p></section><footer class=article-footer><section class=article-copyright><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg><span>Licensed under CC BY-NC-SA 4.0</span></section></footer><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css integrity=sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js integrity=sha384-g7c+Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI+sEnkvrMWph2EDg4 crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js integrity=sha384-mll67QQFJfxn0IYznZYonOWZ644AWYC+Pt2cHqMaRhXVrursRwvLnLaebdGIlYNa crossorigin=anonymous onload="renderMathInElement(document.querySelector(`.article-content`));"></script></article><aside class="widget related-contents--wrapper"><h1 class=widget-title></h1><div class=related-contents><div class="flex article-list--tile"><article class=has-image><a href=https://iwanhae.github.io/p/clang_from_backward_1/><div class=article-image><img src=/p/clang_from_backward_1/clang_hue4e01b3163d4c8f81786c4a65f826f64_43926_250x150_fill_box_smart1_2.png width=250 height=150 loading=lazy data-key=clang_from_backward_1 data-hash="md5-AtXrM67H2n5l7J+abXKdMQ=="></div><div class=article-details><h2 class=article-title>뒤에서 부터 보는 C언어: 1. 기본적인것들</h2></div></a></article></div></div></aside><div class=disqus-container><div id=disqus_thread></div><script type=application/javascript>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('disqus_thread').innerHTML='Disqus comments not available by default when the website is previewed locally.';return;}
var d=document,s=d.createElement('script');s.async=true;s.src='//'+"wanhae"+'.disqus.com/embed.js';s.setAttribute('data-timestamp',+new Date());(d.head||d.body).appendChild(s);})();</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div><style>.disqus-container{background-color:var(--card-background);border-radius:var(--card-border-radius);box-shadow:var(--shadow-l1);padding:var(--card-padding)}</style><footer class=site-footer><section class=copyright>&copy; 2022 iWan</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=1.0.5>Stack</a></b> designed by
<a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true style=display:none><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.5/dist/vibrant.min.js integrity="sha256-5NovOZc4iwiAWTYIFiIM7DxKUXKWvpVEuMEPLzcm5/g=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.js defer></script><script>(function(){const customFont=document.createElement('link');customFont.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";customFont.type="text/css";customFont.rel="stylesheet";document.head.appendChild(customFont);}());</script><link rel=stylesheet href=/css/highlight/light.min.css media="(prefers-color-scheme: light)"><link rel=stylesheet href=/css/highlight/dark.min.css media="(prefers-color-scheme: dark)"></body></html>